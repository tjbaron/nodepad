(()=>{var e,n,t,r,o,a={72726:(e,n,t)=>{"use strict";var r,o,a,i,u,l,c,s,p=t(67294),f=t.t(p,2),d=t(73935),b=t(36484),y=t(4989),m=b.Z.button(r||(c=["\n    margin: 5px; padding: 5px;\n    display: inline-block;\n    border: 1px solid rgb(144,144,255);\n    color: white;\n    cursor: pointer;\n    user-select: none;\n    background: black;\n    height: 30px;\n    box-sizing: border-box; \n    :hover {\n        background: rgb(32,32,32);\n    }\n"],s=["\n    margin: 5px; padding: 5px;\n    display: inline-block;\n    border: 1px solid rgb(144,144,255);\n    color: white;\n    cursor: pointer;\n    user-select: none;\n    background: black;\n    height: 30px;\n    box-sizing: border-box; \n    :hover {\n        background: rgb(32,32,32);\n    }\n"],Object.defineProperty?Object.defineProperty(c,"raw",{value:s}):c.raw=s,r=c)),h=function(){return h=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},h.apply(this,arguments)},g=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},v={lineChart:function(e){}},w=[{type:"line_chart",label:"line_chart",description:"Display line chart",inputs:function(e){return function(e){for(var n,t=[{name:"y",label:"y",type:"string"}],r=1;null===(n=e[1===r?"y":"y".concat(r)])||void 0===n?void 0:n.string;)r++,t.push({name:"y".concat(r),label:"y".concat(r),type:"string"});return g(g([{name:"data",label:"data",type:"any"},{name:"x",label:"x",type:"string"}],t,!0),[{name:"xistimestamp",label:"x is timestamp",type:"boolean"}],!1)}},outputs:function(e){return[{name:"data",label:"data",type:"any"}]},code:function(e){return n=void 0,t=void 0,o=function(){return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(n){switch(n.label){case 0:return e.xistimestamp&&e.data.forEach((function(n){var t;n[e.x]=null===(t=new Date(n[e.x]))||void 0===t?void 0:t.toLocaleDateString()})),[4,new Promise((function(n){v.lineChart(h(h({},e),{onClose:n}))}))];case 1:return n.sent(),[2,{data:e}]}}))},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function u(e){try{l(o.throw(e))}catch(e){a(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}l((o=o.apply(n,t||[])).next())}));var n,t,r,o}}],x=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},k=function(){return k=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},k.apply(this,arguments)},j=function(e){return p.createElement(E,null,p.createElement(_,k({},e)))},_=b.Z.div(o||(o=x(["\n    overflow: auto;\n    background: black;\n    border: 1px solid rgb(144,144,255);\n    color: white;\n    display: flex; flex-direction: column;\n    overflow: scroll;\n"],["\n    overflow: auto;\n    background: black;\n    border: 1px solid rgb(144,144,255);\n    color: white;\n    display: flex; flex-direction: column;\n    overflow: scroll;\n"]))),E=b.Z.div(a||(a=x(["\n    position: absolute;\n    inset: 0px;\n    background: rgba(0,0,0,0.2);\n    display: flex; align-items: center; justify-content: center;\n"],["\n    position: absolute;\n    inset: 0px;\n    background: rgba(0,0,0,0.2);\n    display: flex; align-items: center; justify-content: center;\n"]))),O=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},S=["rgb(144,144,255)","rgb(255,144,144)","rgb(144,255,144)","rgb(144,255,255)","rgb(255,144,255)","rgb(255,255,144)"],P=function(){var e={data:null,x:"x",y:"y",xistimestamp:!1,onClose:null},n=(0,p.useState)(e),r=n[0],o=n[1],a=(0,p.useState)(null),i=a[0],u=a[1];if(p.useEffect((function(){var e,n,o,a;r&&(e=void 0,n=void 0,a=function(){var e;return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(n){switch(n.label){case 0:return[4,t.e(772).then(t.bind(t,71772))];case 1:return e=n.sent(),u(e),[2]}}))},new((o=void 0)||(o=Promise))((function(t,r){function i(e){try{l(a.next(e))}catch(e){r(e)}}function u(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,u)}l((a=a.apply(e,n||[])).next())})))}),r.data),v.lineChart=o,!(null==r?void 0:r.data)||!i)return p.createElement(p.Fragment,null);for(var l=i.Line,c=i.LineChart,s=i.ResponsiveContainer,d=i.Tooltip,b=i.XAxis,y=i.YAxis,h=[],g=0;g<S.length;g++){var w=0===g?"y":"y".concat(g+1);if(!r[w])break;h.push(p.createElement(l,{type:"monotone",dataKey:r[w],stroke:S[g]}))}return p.createElement(C,null,p.createElement(m,{onClick:function(){var n;o(e),null===(n=r.onClose)||void 0===n||n.call(r)}},"Close"),p.createElement(s,null,p.createElement.apply(f,O(O([c,{data:r.data}],h,!1),[r.x&&p.createElement(b,{dataKey:r.x}),p.createElement(y,null),p.createElement(d,null)],!1))))},C=(0,b.Z)(j)(i||(i=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n    width: 90%; height: 90%;\n    overflow: hidden;\n    color: black;\n"],["\n    width: 90%; height: 90%;\n    overflow: hidden;\n    color: black;\n"]))),A=b.Z.input(u||(u=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n    margin: 5px; padding: 5px;\n    border: 1px solid rgb(144,144,255);\n    color: white;\n    background: black;\n    outline: none;\n    height: 30px;\n    box-sizing: border-box; \n    :hover {\n        background: rgb(32,32,32);\n    }\n    :focus {\n        border: 1px solid rgb(144,255,255);\n    }\n"],["\n    margin: 5px; padding: 5px;\n    border: 1px solid rgb(144,144,255);\n    color: white;\n    background: black;\n    outline: none;\n    height: 30px;\n    box-sizing: border-box; \n    :hover {\n        background: rgb(32,32,32);\n    }\n    :focus {\n        border: 1px solid rgb(144,255,255);\n    }\n"]))),T={display:null},N=function(){var e=p.useState(""),n=e[0],t=e[1],r=p.useState(null),o=r[0],a=r[1],i=p.useState(""),u=i[0],l=i[1];return T.display=function(e){return new Promise((function(n,r){t(e),a((function(){return n}))}))},null===o?p.createElement(p.Fragment,null):p.createElement(j,null,p.createElement("p",null,n),p.createElement(A,{value:u,onChange:function(e){return l(e.target.value)}}),p.createElement(m,{onClick:function(){o(u),a(null)}},"Submit"))},z=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}l((r=r.apply(e,n||[])).next())}))},D=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},L=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},R=[{type:"brain_create",label:"brain_create",description:"Create a neural network",inputs:function(e){return[{name:"layercount",label:"layercount",type:"number"},{name:"layersize",label:"layersize",type:"number"}]},outputs:function(e){return[{name:"brain",label:"brain",type:"brain"}]},code:function(e){var n=e.layercount,t=e.layersize;return z(void 0,void 0,void 0,(function(){var e,r,o;return D(this,(function(a){return e=Math.min(Math.max(0,n),20),r=Math.min(Math.max(1,t),50),o={binaryThresh:.5,hiddenLayers:new Array(e).fill(r),activation:"sigmoid",leakyReluAlpha:.01,learningRate:.01,decayRate:.999},[2,{brain:new brain.NeuralNetwork(o)}]}))}))}},{type:"brain_train_next",label:"brain_train_next",description:"Train a neural network to predict next number in a series",inputs:function(e){return[{name:"brain",label:"brain",type:"brain"},{name:"series",label:"series",type:"string"},{name:"lookback",label:"lookback",type:"number"}]},outputs:function(e){return[{name:"brain",label:"brain",type:"brain"}]},code:function(e){var n=e.brain,t=e.series,r=e.lookback;return z(void 0,void 0,void 0,(function(){var e,o,a;return D(this,(function(i){for(e=t.split(",").map((function(e){return Number(e)})),o=[],a=r;a<e.length;a++)o.push({input:L([],e,!0).splice(a-r,r),output:[e[a]]});return null==n||n.train(o),[2,{brain:n}]}))}))}},{type:"brain_predict",label:"brain_predict",description:"Neural network makes prediction based on inputs",inputs:function(e){return[{name:"brain",label:"brain",type:"brain"},{name:"input",label:"input",type:"string"}]},outputs:function(e){return[{name:"result",label:"result",type:"any"}]},code:function(e){var n=e.brain,t=e.input;return z(void 0,void 0,void 0,(function(){var e;return D(this,(function(r){return e=t.split(",").map((function(e){return Number(e)})),[2,{result:null==n?void 0:n.run(e)}]}))}))}}],I=[{type:"parse_csv",label:"parse_csv",description:"Convert csv string to array of objects or arrays",inputs:function(e){return[{name:"csv",label:"csv",type:"string"},{name:"objects",label:"objects",type:"boolean"}]},outputs:function(e){return[{name:"object",label:"object",type:"any"}]},code:function(e){var n,r,o,a,i=e.csv,u=e.objects;return n=void 0,r=void 0,a=function(){return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(e){switch(e.label){case 0:return[4,Promise.all([t.e(853),t.e(726)]).then(t.t.bind(t,23853,23))];case 1:return[2,{object:e.sent().parse(i,u?{output:"objects"}:void 0)}]}}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function u(e){try{l(a.throw(e))}catch(e){t(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,u)}l((a=a.apply(n,r||[])).next())}))}}],Z=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}l((r=r.apply(e,n||[])).next())}))},q=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},M=[{type:"image_data",label:"image_data",description:"Get image pixel data from file",inputs:function(e){return[{name:"filearray",label:"filearray",type:"filearray"},{name:"width",label:"width",type:"number"},{name:"height",label:"height",type:"number"}]},outputs:function(e){return function(e){return[{name:"numberarray",label:"numberarray",type:"numberarray"},{name:"width",label:"width",type:"number"},{name:"height",label:"height",type:"number"}]}},code:function(e){var n=e.filearray,t=e.width,r=e.height;return Z(void 0,void 0,void 0,(function(){return q(this,(function(e){return[2,new Promise((function(e,o){var a=new FileReader;a.onload=function(n){var o=new Image;o.onload=function(){console.log("abc");var n=o.width,a=o.height;if(t>0&&r>0){var i=t/o.width,u=r/o.height,l=Math.min(i,u);n=Math.round(o.width*l),a=Math.round(o.width*l)}var c=document.createElement("canvas"),s=c.getContext("2d");c.width=n,c.height=a,s.drawImage(o,0,0,o.width,o.height,0,0,n,a);var p=s.getImageData(0,0,n,a).data,f=Array.prototype.slice.call(p);console.log(f),e({numberarray:f,width:n,height:a})},o.src=n.target.result},a.readAsDataURL(n[0])}))]}))}))}},{type:"image_generate",label:"image_generate",description:"Downloads an image from pixel data",inputs:function(e){return[{name:"numberarray",label:"numberarray",type:"numberarray"},{name:"width",label:"width",type:"number"},{name:"height",label:"height",type:"number"}]},outputs:function(e){return function(e){return[{name:"string",label:"string",type:"string"}]}},code:function(e){var n=e.numberarray,t=e.width,r=e.height;return Z(void 0,void 0,void 0,(function(){var e,o,a;return q(this,(function(i){return console.log("down"),e=document.createElement("canvas"),o=e.getContext("2d"),e.width=t,e.height=r,o.putImageData(new ImageData(new Uint8ClampedArray(n),t,r),0,0),(a=document.createElement("a")).download="image.png",a.href=e.toDataURL(),a.click(),[2,{string:"ok"}]}))}))}},{type:"image_split_rgba",label:"image_split_rgba",description:"",inputs:function(e){return[{name:"data",label:"data",type:"numberarray"}]},outputs:function(e){return[{name:"r",label:"r",type:"numberarray"},{name:"g",label:"g",type:"numberarray"},{name:"b",label:"b",type:"numberarray"},{name:"a",label:"a",type:"numberarray"}]},code:function(e){var n=e.data;return Z(void 0,void 0,void 0,(function(){var e,t,r,o;return q(this,(function(a){return e=n.filter((function(e,n){return n%4==0})),t=n.filter((function(e,n){return n%4==1})),r=n.filter((function(e,n){return n%4==2})),o=n.filter((function(e,n){return n%4==3})),[2,{r:e,g:t,b:r,a:o}]}))}))}},{type:"image_merge_rgba",label:"image_merge_rgba",description:"",inputs:function(e){return[{name:"r",label:"r",type:"numberarray"},{name:"g",label:"g",type:"numberarray"},{name:"b",label:"b",type:"numberarray"},{name:"a",label:"a",type:"numberarray"}]},outputs:function(e){return[{name:"data",label:"data",type:"numberarray"}]},code:function(e){var n=e.r,t=e.g,r=e.b,o=e.a;return Z(void 0,void 0,void 0,(function(){var e,a;return q(this,(function(i){for(e=[],a=0;a<n.length;a++)e.push(n[a],t[a],r[a],o[a]);return[2,{data:e}]}))}))}}],G=[{type:"to_json",label:"to_json",description:"Convert object to json string",inputs:function(e){return[{name:"object",label:"object",type:"any"},{name:"pretty",label:"pretty",type:"boolean"}]},outputs:function(e){return[{name:"json",label:"json",type:"string"}]},code:function(e){var n=e.object;return e.pretty?{json:JSON.stringify(n,null,2)}:{json:JSON.stringify(n)}}},{type:"json_parse",label:"json_parse",description:"Convert json string to object",inputs:function(e){return[{name:"json",label:"json",type:"string"}]},outputs:function(e){return[{name:"object",label:"object",type:"any"}]},code:function(e){return{object:JSON.parse(e.json)}}}],F=t(49105),J=t(75124),U=[{type:"string",acceptTypes:["any","string"],name:"string",label:"string",color:y.wL.red,controls:[y.ZX.text({name:"string",label:"string"})]},{type:"stringarray",acceptTypes:["any","stringarray"],name:"stringarray",label:"stringarray",color:y.wL.green,controls:[]},{type:"number",acceptTypes:["any","number"],name:"number",label:"number",color:y.wL.blue,controls:[y.ZX.number({name:"number",label:"number"})]},{type:"numberarray",acceptTypes:["any","numberarray"],name:"numberarray",label:"numberarray",color:y.wL.yellow,controls:[]},{type:"filearray",acceptTypes:["filearray","any"],name:"filearray",label:"filearray",color:y.wL.magenta,controls:[]},{type:"date",acceptTypes:["any","date"],name:"date",label:"date",color:y.wL.purple,controls:[]},{type:"boolean",acceptTypes:["any","boolean"],name:"boolean",label:"boolean",color:y.wL.orange,controls:[y.ZX.checkbox({name:"boolean",label:"boolean"})]},{type:"brain",acceptTypes:["brain"],name:"brain",label:"brain",color:y.wL.pink,controls:[]},{type:"any",acceptTypes:["any","string","number","date","boolean","stringarray","numberarray","filearray"],name:"any",label:"any",color:y.wL.gray,controls:[]}],B=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}l((r=r.apply(e,n||[])).next())}))},X=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},$=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},K=[{name:"add",inputs:["x","y"]},{name:"subtract",inputs:["x","y"]},{name:"multiply",inputs:["x","y"]},{name:"divide",inputs:["x","y"]},{name:"mod",inputs:["x","y"]},{name:"pow",inputs:["x","y"]},{name:"abs",inputs:["x"]},{name:"floor",inputs:["x"]},{name:"ceil",inputs:["x"]},{name:"round",inputs:["x"]},{name:"fix",inputs:["x"]},{name:"dot",inputs:["x","y"]},{name:"dotMultiply",inputs:["x","y"]},{name:"dotDivide",inputs:["x","y"]},{name:"dotPow",inputs:["x","y"]},{name:"log",inputs:["x"]},{name:"log2",inputs:["x"]},{name:"log10",inputs:["x"]},{name:"exp",inputs:["x"]},{name:"gcd",inputs:["x","y"]}],Y=$($([],K.map((function(e){var n,t;return{type:"math_".concat(e.name),label:"math_".concat(e.name),description:(null===(t=null===(n=J.R_(F[e.name]))||void 0===n?void 0:n.toJSON())||void 0===t?void 0:t.description)||"",inputs:function(n){return $([],e.inputs.map((function(e){return{name:e,label:e,type:"any"}})),!0)},outputs:function(e){return function(e,n){var t,r,o,a=null===(o=null===(r=null===(t=n.inputs)||void 0===t?void 0:t.x)||void 0===r?void 0:r[0])||void 0===o?void 0:o.portName;return[{name:"result",label:"result",type:U.find((function(e){return e.type===a}))?a:"any"}]}},code:function(n){return B(void 0,void 0,void 0,(function(){return X(this,(function(t){return[2,{result:F[e.name].apply(void 0,e.inputs.map((function(e){return n[e]})))}]}))}))}}})),!0),[{type:"math_equation",label:"math_equation",description:"Arbitrary mathimatical expression",inputs:function(e){return function(e){var n,t=null===(n=null==e?void 0:e.equation)||void 0===n?void 0:n.string,r=[];if(t){var o=t.match(/[a-zA-Z_]+[a-zA-Z0-9_]*/g)||[];console.log(o);for(var a=function(e){if(K.find((function(n){return e===n.name})))return"continue";r.push({name:e,label:e,type:"any"})},i=0,u=o;i<u.length;i++)a(u[i])}return $([{name:"equation",label:"equation",type:"string"}],r,!0)}},outputs:function(e){return[{name:"number",label:"number",type:"any"}]},code:function(e){return B(void 0,void 0,void 0,(function(){var n=e.equation,t=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["equation"]);return X(this,(function(e){return[2,{number:J.ku(n,t)}]}))}))}}],!1),H={display:null},Q=function(){var e=p.useState(""),n=e[0],t=e[1],r=p.useState(null),o=r[0],a=r[1];return H.display=function(e){return new Promise((function(n,r){t(e),a((function(){return n}))}))},null===o?p.createElement(p.Fragment,null):p.createElement(j,null,p.createElement("textarea",{style:{width:"500px",height:"400px"},readOnly:!0},n),p.createElement(m,{onClick:function(){o(),a(null)}},"Okay"))},V=function(){return V=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},V.apply(this,arguments)},W=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}l((r=r.apply(e,n||[])).next())}))},ee=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},ne={selectedNode:null},te=[{type:"if",label:"if",description:"If else",inputs:function(e){return[{name:"_if",label:"if",type:"boolean"},{name:"_then",label:"then",type:"any",conditional:!0},{name:"_else",label:"else",type:"any",conditional:!0}]},outputs:function(e){return function(e){return[{name:"result",label:"result",type:"any"}]}},code:function(e){return W(void 0,void 0,void 0,(function(){return ee(this,(function(n){switch(n.label){case 0:return e._if?[4,e._then()]:[3,2];case 1:case 3:return[2,{result:n.sent()}];case 2:return[4,e._else()]}}))}))}},{type:"string",label:"string",description:"String type",inputs:function(e){return[{name:"string",label:"string",type:"string"}]},outputs:function(e){return[{name:"string",label:"string",type:"string"}]},code:function(e){return{string:e.string}}},{type:"number",label:"number",description:"Number type",inputs:function(e){return[{name:"number",label:"number",type:"number"}]},outputs:function(e){return[{name:"number",label:"number",type:"number"}]},code:function(e){return{number:e.number}}},{type:"array_length",label:"array_length",description:"Returns length of array",inputs:function(e){return[{name:"array",label:"array",type:"any"}]},outputs:function(e){return[{name:"length",label:"length",type:"number"}]},code:function(e){return{length:e.array.length}}},{type:"input",label:"input",description:"Only used for subgraphs",outputs:function(e){return function(){var e,n;return function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}([],null===(n=null===(e=null==ne?void 0:ne.selectedNode)||void 0===e?void 0:e.inputs)||void 0===n?void 0:n.map((function(e){return{name:e.name,label:e.name,type:e.type}})),!0)}},code:function(e,n){return V({},n)}},{type:"input_string",label:"input_string",description:"Allows user to input a string",inputs:function(e){return[{name:"description",label:"description",type:"string"}]},outputs:function(e){return[e.string()]},code:function(e){return W(void 0,void 0,void 0,(function(){return ee(this,(function(n){switch(n.label){case 0:return[4,T.display(e.description)];case 1:return[2,{string:n.sent()}]}}))}))}},{type:"input_number",label:"input_number",description:"Allows user to input a number",inputs:function(e){return[{name:"description",label:"description",type:"string"}]},outputs:function(e){return[e.number()]},code:function(e){return W(void 0,void 0,void 0,(function(){var n;return ee(this,(function(t){switch(t.label){case 0:return[4,T.display(e.description)];case 1:return n=t.sent(),[2,{number:Number(n)}]}}))}))}},{type:"input_files",label:"input_files",description:"Allows user to input 1 or more files",inputs:function(e){return[]},outputs:function(e){return[e.filearray()]},code:function(e){return W(void 0,void 0,void 0,(function(){return ee(this,(function(e){return[2,new Promise((function(e,n){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("multiple","true"),t.onchange=function(){e({filearray:t.files})},setTimeout((function(){t.click()}),10)}))]}))}))}},{type:"ascii_art",label:"ascii_art",description:"Ascii art from image files",inputs:function(e){return[e.filearray()]},outputs:function(e){return[{name:"string",type:"string"}]},code:function(e){var n=e.filearray;return W(void 0,void 0,void 0,(function(){var e;return ee(this,(function(t){return e="＠％＃＊＋＝ー：。　",[2,new Promise((function(t,r){var o="",a=new FileReader;a.onload=function(n){var r=new Image;r.onload=function(){var n=document.createElement("canvas"),a=n.getContext("2d");n.width=40,n.height=30,a.drawImage(r,0,0,r.width,r.height,0,0,40,30);for(var i=a.getImageData(0,0,40,30).data,u=0;u<30;u++){for(var l=0;l<40;l++){var c=i[160*u+4*l];o+=e[Math.floor(c/(256/e.length))]}o+="\n"}t({string:o})},r.src=n.target.result},a.readAsDataURL(n[0])}))]}))}))}},{type:"string_replace",label:"string_replace",description:"Replace occurences of a string inside another string",inputs:function(e){return[{name:"source",label:"source",type:"string"},{name:"find",label:"find",type:"string"},{name:"replace",label:"replace",type:"string"},{name:"all",label:"all",type:"boolean"}]},outputs:function(e){return[{name:"string",type:"string"}]},code:function(e){return e.all?{string:e.source.replaceAll(e.find,e.replace)}:{string:e.source.replace(e.find,e.replace)}}},{type:"string_fallback",label:"string_fallback",description:"Use first input if not blank, otherwise use second",inputs:function(e){return[{name:"string1",label:"string1",type:"string"},{name:"string2",label:"string2",type:"string"}]},outputs:function(e){return[{name:"string",label:"string",type:"string"}]},code:function(e){var n=e.string1,t=e.string2;return{string:n||t}}},{type:"http_fetch",label:"http_fetch",description:"Make api call",inputs:function(e){return[{name:"url",label:"url",type:"string"}]},outputs:function(e){return[{name:"body",label:"body",type:"string"}]},code:function(e){return W(void 0,void 0,void 0,(function(){return ee(this,(function(n){switch(n.label){case 0:return[4,fetch(e.url)];case 1:return[4,n.sent().text()];case 2:return[2,{body:n.sent()}]}}))}))}},{type:"data_select",label:"data_select",description:"Select data from an object. See jsonpath on npm for syntax",inputs:function(e){return[{name:"data",label:"data",type:"any"},{name:"query",label:"query",type:"string"},{name:"array",label:"array",type:"boolean"}]},outputs:function(e){return[{name:"data",label:"data",type:"any"}]},code:function(e){return W(void 0,void 0,void 0,(function(){var n,r;return ee(this,(function(o){switch(o.label){case 0:return[4,t.e(832).then(t.t.bind(t,39832,23))];case 1:return n=o.sent(),r=n.query(e.data,e.query),e.array?[2,{data:r}]:[2,{data:null==r?void 0:r[0]}]}}))}))}},{type:"add_values_to_array_object",label:"add_values_to_array_object",description:"add data from array items to array objects with key",inputs:function(e){return[{name:"array_of_objects",label:"array_of_objects",type:"any"},{name:"array",label:"array",type:"any"},{name:"key",label:"key",type:"string"}]},outputs:function(e){return[{name:"data",label:"data",type:"any"}]},code:function(e){return W(void 0,void 0,void 0,(function(){return ee(this,(function(n){return e.array_of_objects.forEach((function(n,t){n[e.key]=e.array[t]})),[2,{data:e.array_of_objects}]}))}))}},{type:"show_string",label:"show_string",description:"Displays the string in a popup",inputs:function(e){return[{name:"string",label:"string",type:"string"}]},outputs:function(e){return[{name:"string",label:"string",type:"string"}]},code:function(e){return W(void 0,void 0,void 0,(function(){return ee(this,(function(n){switch(n.label){case 0:return[4,H.display(e.string)];case 1:return n.sent(),[2,{string:e.string}]}}))}))}}],re=[{type:"xml_select",label:"xml_select",description:"Select data from an xml string. See xpath on npm for syntax",inputs:function(e){return[{name:"data",label:"data",type:"string"},{name:"query",label:"query",type:"string"}]},outputs:function(e){return[{name:"data",label:"data",type:"string"}]},code:function(e){return n=void 0,r=void 0,a=function(){var n,r,o;return function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(a){switch(a.label){case 0:return[4,t.e(969).then(t.t.bind(t,3969,19))];case 1:return n=a.sent().DOMParser,[4,t.e(691).then(t.t.bind(t,37691,23))];case 2:return r=a.sent(),o=(new n).parseFromString(e.data),[2,{data:r.select("string(".concat(e.query,")"),o)}]}}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function u(e){try{l(a.throw(e))}catch(e){t(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,u)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}}],oe=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}l((r=r.apply(e,n||[])).next())}))},ae=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},ie=[{type:"to_yaml",label:"to_yaml",description:"Convert object to yaml string",inputs:function(e){return[{name:"object",label:"object",type:"any"}]},outputs:function(e){return[{name:"yaml",label:"yaml",type:"string"}]},code:function(e){var n=e.object;return oe(void 0,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return[4,t.e(6).then(t.t.bind(t,55006,23))];case 1:return[2,{yaml:e.sent().stringify(n)}]}}))}))}},{type:"parse_yaml",label:"parse_yaml",description:"Convert yaml string to object",inputs:function(e){return[{name:"yaml",label:"yaml",type:"string"}]},outputs:function(e){return[{name:"object",label:"object",type:"any"}]},code:function(e){var n=e.yaml;return oe(void 0,void 0,void 0,(function(){return ae(this,(function(e){switch(e.label){case 0:return[4,t.e(6).then(t.t.bind(t,55006,23))];case 1:return[2,{object:e.sent().parse(n)}]}}))}))}}],ue=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},le=ue(ue(ue(ue(ue(ue(ue(ue(ue([],R,!0),w,!0),M,!0),Y,!0),te,!0),I,!0),ie,!0),G,!0),re,!0),ce=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}l((r=r.apply(e,n||[])).next())}))},se=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},pe=function(e){void 0===e&&(e=[]),(l=new y.ik).addRootNodeType({type:"output",label:"output",description:"Output node",inputs:function(e){return function(){var e,n,t;return(null===(e=null==ne?void 0:ne.selectedNode)||void 0===e?void 0:e.outputs)?function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}([],null===(t=null===(n=null==ne?void 0:ne.selectedNode)||void 0===n?void 0:n.outputs)||void 0===t?void 0:t.map((function(e){return{name:e.name,label:e.name,type:e.type}})),!0):[{name:"result",label:"result",type:"any"}]}}}),U.forEach((function(e){l.addPortType(e)})),le.forEach((function(e){l.addNodeType(e)})),e.forEach((function(e){l.addNodeType(ve(e))}))};pe();var fe,de,be,ye,me,he,ge,ve=function(e){var n={type:e.type,label:e.type,description:e.description,inputs:function(){return e.inputs.map((function(e){return{name:e.name,type:e.type,label:e.name}}))},outputs:function(){return e.outputs.map((function(e){return{name:e.name,type:e.type,label:e.name}}))}};return console.log(n),n},we=function(e,n){switch(e){case"string":return n.string;case"number":return n.number;case"boolean":return n.boolean;case"any":return n.string||n.number||n.boolean;default:return n}},xe=function(e,n,t){return ce(void 0,void 0,void 0,(function(){var r;return se(this,(function(o){switch(o.label){case 0:return r=function(e,r,o,a){return ce(void 0,void 0,void 0,(function(){var o,a;return se(this,(function(i){switch(i.label){case 0:if(o=le.find((function(n){return n.type===e.type}))||n.find((function(n){return n.type===e.type})),!(null==o?void 0:o.code))return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.code(r,t)];case 2:return[2,i.sent()];case 3:return a=i.sent(),console.warn(e.type,a),[2,{}];case 4:return[3,6];case 5:if(null==o?void 0:o.subgraph)return console.log("Running subgraph ".concat(o.type)),[2,xe(null==o?void 0:o.subgraph,n,r)];i.label=6;case 6:return console.warn("No implementation for ".concat(e.type,".")),[2,{}]}}))}))},[4,new y.fJ(l,we,r).resolveRootNode(e)];case 1:return[2,o.sent()]}}))}))},ke=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,a=n.length;o<a;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},je=function(e){var n=e.customNodeTypes,t=e.setCustomNodeTypes,r=e.setShowNodeCreate,o=p.useState(""),a=o[0],i=o[1],u=p.useState(""),l=u[0],c=u[1],s=p.useState([]),f=s[0],d=s[1],b=p.useState([]),y=b[0],h=b[1];return p.createElement(_e,null,p.createElement(A,{placeholder:"Node name",value:a,onChange:function(e){return i(e.target.value)}}),p.createElement(A,{placeholder:"Description",value:l,onChange:function(e){return c(e.target.value)}}),f.map((function(e,n){return p.createElement(A,{placeholder:"Input ".concat(n+1," name"),onChange:function(e){return f[n].name=e.target.value}})})),p.createElement(m,{onClick:function(){return d(ke(ke([],f,!0),[{name:"",type:"any"}],!1))}},"Add Input"),y.map((function(e,n){return p.createElement(A,{placeholder:"Output ".concat(n+1," name"),onChange:function(e){return y[n].name=e.target.value}})})),p.createElement(m,{onClick:function(){return h(ke(ke([],y,!0),[{name:"",type:"any"}],!1))}},"Add Output"),p.createElement(m,{onClick:function(){if(a&&!f.find((function(e){return!e.name}))&&!y.find((function(e){return!e.name}))){var e=ke([{type:a,description:l,inputs:f,outputs:y}],n,!0);pe(e),t(e),r(-2)}}},"Create Custom Node"),p.createElement(m,{onClick:function(){r(-2)}},"Cancel"))},_e=(0,b.Z)(j)(fe||(fe=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}(["\n    top: 50%; left: 50%;\n    width: 300px; height: 500px;\n    margin-left: -150px; margin-top: -250px;\n"],["\n    top: 50%; left: 50%;\n    width: 300px; height: 500px;\n    margin-left: -150px; margin-top: -250px;\n"]))),Ee=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},Oe=function(){return Oe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Oe.apply(this,arguments)},Se=function(e){var n=e.nodeData,t=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["nodeData"]);return p.createElement(Pe,Oe({},t),p.createElement(Ce,null,n.type),p.createElement("div",null,n.description),p.createElement("div",null,"Inputs"),n.inputs.map((function(e,n){return p.createElement("div",{key:n},e.name," (",e.type,")")})),n.outputs.map((function(e,n){return p.createElement("div",{key:n},e.name," (",e.type,")")})))},Pe=b.Z.div(de||(de=Ee(["\n    line-height: 18px; padding: 5px;\n    box-sizing: border-box;\n    cursor: pointer;\n    :hover {\n        background: rgb(32,32,32);\n    }\n"],["\n    line-height: 18px; padding: 5px;\n    box-sizing: border-box;\n    cursor: pointer;\n    :hover {\n        background: rgb(32,32,32);\n    }\n"]))),Ce=b.Z.div(be||(be=Ee(["\n    font-size: 14px;\n"],["\n    font-size: 14px;\n"]))),Ae=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},Te=function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,u)}l((r=r.apply(e,n||[])).next())}))},Ne=function(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},ze=function(){var e=p.useState([]),n=e[0],t=e[1],r=p.useState(-2),o=r[0],a=r[1],i=p.useState({}),u=i[0],c=i[1],s=p.useState(null),f=s[0],d=s[1],b=p.useState(0),h=b[0],g=b[1];return p.createElement(p.Fragment,null,p.createElement(De,null,p.createElement(Le,null,"NodePad"),p.createElement(m,{onClick:function(){return e=n,t=u,r=JSON.stringify({graph:t,customNodes:e},null,2),(o=document.createElement("a")).setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(r)),o.setAttribute("download","nodepad-export.json"),o.style.display="none",document.body.appendChild(o),o.click(),void document.body.removeChild(o);var e,t,r,o}},"Export"),p.createElement(m,{onClick:function(){return Te(void 0,void 0,void 0,(function(){var e;return Ne(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(e,n){var t=document.createElement("input");t.setAttribute("type","file"),t.addEventListener("change",(function(n){var t=n.target.files[0],r=new FileReader;r.onload=function(n){e(JSON.parse(n.target.result))},r.readAsText(t)})),t.click()}))];case 1:return e=n.sent(),pe(e.customNodes),t(e.customNodes),c(e.graph),g(h+1),[2]}}))}))}},"Import"),p.createElement(m,{onClick:function(){return Te(void 0,void 0,void 0,(function(){var e;return Ne(this,(function(t){switch(t.label){case 0:return[4,xe(u,n,{})];case 1:return e=t.sent(),alert(JSON.stringify(e)),[2]}}))}))}},"Run")),p.createElement(Ie,null,!f&&p.createElement(m,{onClick:function(){a(-1)}},"Add"),f&&p.createElement(m,{onClick:function(){ne.selectedNode=null,d(null),g(h+1)}},"Back"),n.map((function(e,n){return p.createElement(Se,{key:n,nodeData:e,onClick:function(){e.subgraph=e.subgraph||{},ne.selectedNode=e,d(e),g(h+1)}})}))),p.createElement(Re,null,p.createElement(y.lr,{value:(0,y.uf)({font:"Syne",grid:{backgroundColor:"black",gridColor:"rgb(38,38,64)"},menu:{color:"rgba(38, 38, 64, 0.5)"}})},p.createElement(y.it,{key:n.length+h,portTypes:l.portTypes,nodeTypes:l.nodeTypes,nodes:f?f.subgraph:u,onChange:f?function(e){return f.subgraph=e}:c,defaultNodes:[{type:"output",x:0,y:0}]}))),p.createElement(N,null),p.createElement(Q,null),p.createElement(P,null),o>-2&&p.createElement(je,{customNodeTypes:n,setCustomNodeTypes:t,setShowNodeCreate:a}))},De=b.Z.div(ye||(ye=Ae(["\n  position: absolute; top: 0px; left: 0px;\n  height: 40px; width: 100%;\n  border-bottom: 1px solid rgb(144,144,255);\n  background: black; box-sizing: border-box;\n  color: white; line-height: 39px;\n  padding-left: 10px; display: flex;\n  flex-direction: row;\n"],["\n  position: absolute; top: 0px; left: 0px;\n  height: 40px; width: 100%;\n  border-bottom: 1px solid rgb(144,144,255);\n  background: black; box-sizing: border-box;\n  color: white; line-height: 39px;\n  padding-left: 10px; display: flex;\n  flex-direction: row;\n"]))),Le=b.Z.div(me||(me=Ae(["\n  flex: 1;\n"],["\n  flex: 1;\n"]))),Re=b.Z.div(he||(he=Ae(["\n  position: absolute; top: 40px; left: 0px;\n  right: 250px; bottom: 0px;\n"],["\n  position: absolute; top: 40px; left: 0px;\n  right: 250px; bottom: 0px;\n"]))),Ie=b.Z.div(ge||(ge=Ae(["\n  position: absolute; top: 40px; right: 0px;\n  width: 250px; bottom: 0px;\n  border-left: 1px solid rgb(144,144,255);\n  box-sizing: border-box; color: white;\n  background: black; font-size: 10px;\n  overflow: scroll;\n"],["\n  position: absolute; top: 40px; right: 0px;\n  width: 250px; bottom: 0px;\n  border-left: 1px solid rgb(144,144,255);\n  box-sizing: border-box; color: white;\n  background: black; font-size: 10px;\n  overflow: scroll;\n"])));d.render(p.createElement((function(){return p.createElement(ze,null)}),null),document.getElementById("root"))},75042:()=>{}},i={};function u(e){var n=i[e];if(void 0!==n)return n.exports;var t=i[e]={id:e,loaded:!1,exports:{}};return a[e].call(t.exports,t,t.exports,u),t.loaded=!0,t.exports}u.m=a,u.amdD=function(){throw new Error("define cannot be used indirect")},u.amdO={},e=[],u.O=(n,t,r,o)=>{if(!t){var a=1/0;for(s=0;s<e.length;s++){for(var[t,r,o]=e[s],i=!0,l=0;l<t.length;l++)(!1&o||a>=o)&&Object.keys(u.O).every((e=>u.O[e](t[l])))?t.splice(l--,1):(i=!1,o<a&&(a=o));if(i){e.splice(s--,1);var c=r();void 0!==c&&(n=c)}}return n}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[t,r,o]},u.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return u.d(n,{a:n}),n},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);u.r(o);var a={};n=n||[null,t({}),t([]),t(t)];for(var i=2&r&&e;"object"==typeof i&&!~n.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((n=>a[n]=()=>e[n]));return a.default=()=>e,u.d(o,a),o},u.d=(e,n)=>{for(var t in n)u.o(n,t)&&!u.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((n,t)=>(u.f[t](e,n),n)),[])),u.u=e=>e+".bundle.js",u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r={},o="flume-maker:",u.l=(e,n,t,a)=>{if(r[e])r[e].push(n);else{var i,l;if(void 0!==t)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var p=c[s];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==o+t){i=p;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,u.nc&&i.setAttribute("nonce",u.nc),i.setAttribute("data-webpack",o+t),i.src=e),r[e]=[n];var f=(n,t)=>{i.onerror=i.onload=null,clearTimeout(d);var o=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(t))),n)return n(t)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),l&&document.head.appendChild(i)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;u.g.importScripts&&(e=u.g.location+"");var n=u.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),u.p=e})(),(()=>{var e={179:0};u.f.j=(n,t)=>{var r=u.o(e,n)?e[n]:void 0;if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(((t,o)=>r=e[n]=[t,o]));t.push(r[2]=o);var a=u.p+u.u(n),i=new Error;u.l(a,(t=>{if(u.o(e,n)&&(0!==(r=e[n])&&(e[n]=void 0),r)){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;i.message="Loading chunk "+n+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}}),"chunk-"+n,n)}},u.O.j=n=>0===e[n];var n=(n,t)=>{var r,o,[a,i,l]=t,c=0;if(a.some((n=>0!==e[n]))){for(r in i)u.o(i,r)&&(u.m[r]=i[r]);if(l)var s=l(u)}for(n&&n(t);c<a.length;c++)o=a[c],u.o(e,o)&&e[o]&&e[o][0](),e[a[c]]=0;return u.O(s)},t=self.webpackChunkflume_maker=self.webpackChunkflume_maker||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var l=u.O(void 0,[719],(()=>u(72726)));l=u.O(l)})();